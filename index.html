<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>üéÑ Merry Christmas Vi Ho√†ng üéÑ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  overflow: hidden;
  background: radial-gradient(circle, #020111, #000);
  font-family: 'Segoe UI', sans-serif;
}

#message {
  position: absolute;
  top: 8%;
  width: 100%;
  text-align: center;
  font-size: clamp(22px, 6vw, 44px);
  color: gold;
  opacity: 0;
  transition: opacity 2s;
  text-shadow: 0 0 20px red, 0 0 40px green;
}

#love {
  position: absolute;
  top: 18%;
  width: 100%;
  text-align: center;
  font-size: clamp(26px, 7vw, 56px);
  color: pink;
  opacity: 0;
  transition: opacity 2s;
  text-shadow: 0 0 40px hotpink;
}

audio { display: none; }
</style>
</head>

<body>

<div id="message">üéÑ Merry Christmas üéÑ</div>
<div id="love">‚ù§Ô∏è Lu√¥n vui v·∫ª nh√©! ‚ù§Ô∏è</div>

<audio autoplay loop>
  <source src="https://cdn.pixabay.com/audio/2022/12/21/audio_7e4e59f27a.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
/* SCENE */
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  60,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.set(0, 6, 18);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* LIGHT */
scene.add(new THREE.AmbientLight(0xffffff, 0.8));
const pointLight = new THREE.PointLight(0xffffff, 1.5);
pointLight.position.set(10, 20, 10);
scene.add(pointLight);

/* üåü LIGHT PARTICLE TREE */
const treeGroup = new THREE.Group();
const particles = [];

const particleGeo = new THREE.SphereGeometry(0.07, 8, 8);

for (let i = 0; i < 1200; i++) {
  const material = new THREE.MeshStandardMaterial({
    color: Math.random() * 0xffffff,
    emissive: Math.random() * 0xffffff,
    emissiveIntensity: 1.2
  });

  const p = new THREE.Mesh(particleGeo, material);

  // H√¨nh n√≥n (c√¢y th√¥ng)
  const height = Math.random() * 10;
  const radius = (10 - height) * 0.5;
  const angle = Math.random() * Math.PI * 2;

  p.position.set(
    Math.cos(angle) * radius,
    height - 2,
    Math.sin(angle) * radius
  );

  particles.push(p);
  treeGroup.add(p);
}

/* ‚≠ê STAR */
const star = new THREE.Mesh(
  new THREE.IcosahedronGeometry(1),
  new THREE.MeshStandardMaterial({
    color: 0xffff00,
    emissive: 0xffd700,
    emissiveIntensity: 2
  })
);
star.position.y = 9;
treeGroup.add(star);

scene.add(treeGroup);

/* üéÜ SNOW */
const snow = [];
for (let i = 0; i < 400; i++) {
  const flake = new THREE.Mesh(
    new THREE.SphereGeometry(0.05),
    new THREE.MeshStandardMaterial({ color: 0xffffff })
  );
  flake.position.set(
    (Math.random() - 0.5) * 40,
    Math.random() * 30,
    (Math.random() - 0.5) * 40
  );
  snow.push(flake);
  scene.add(flake);
}

/* üéÅ GIFTS */
const gifts = [];
for (let i = 0; i < 20; i++) {
  const gift = new THREE.Mesh(
    new THREE.BoxGeometry(0.8, 0.8, 0.8),
    new THREE.MeshStandardMaterial({
      color: Math.random() * 0xffffff,
      metalness: 0.7
    })
  );
  gift.position.set(
    (Math.random() - 0.5) * 12,
    Math.random() * 20 + 10,
    (Math.random() - 0.5) * 12
  );
  gifts.push(gift);
  scene.add(gift);
}

/* üé¨ ANIMATE */
function animate() {
  requestAnimationFrame(animate);

  treeGroup.rotation.y += 0.003;

  particles.forEach(p => {
    p.material.emissive.setHex(Math.random() * 0xffffff);
  });

  snow.forEach(f => {
    f.position.y -= 0.05;
    if (f.position.y < -5) f.position.y = 25;
  });

  gifts.forEach(g => {
    g.position.y -= 0.06;
    g.rotation.x += 0.02;
    g.rotation.y += 0.02;
    if (g.position.y < -5) g.position.y = 25;
  });

  renderer.render(scene, camera);
}

animate();

/* SHOW TEXT */
setTimeout(() => {
  message.style.opacity = 1;
  love.style.opacity = 1;
}, 8000);

/* RESPONSIVE */
window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>

